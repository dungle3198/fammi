{"ast":null,"code":"var _jsxFileName = \"/Users/dungle/Desktop/fammi/src/components/User.jsx\";\nimport React, { Component } from 'react';\nimport $ from 'jquery';\nimport { Calendar as cld } from '@fullcalendar/core';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport interactionPlugin from \"@fullcalendar/interaction\";\nimport ReactTooltip from 'react-tooltip';\nimport { data, event_list } from \"./Data/event\";\nimport Post from \"./Post\";\nimport Calendar from \"./Calendar\";\nimport Profile from \"./Profile\";\nimport { docClient } from './Data/user';\nimport Groupchat from './GroupMsg';\nimport chat from \"./Messenger\";\nimport { Redirect } from \"react-router-dom\";\nimport Todolist from './Todolist';\n\nvar cookie = require(\"js-cookie\");\n\nexport default class User extends Component {\n  constructor(props) {\n    super(props);\n    this.content = \"post\";\n    this.state = {\n      users: [],\n      user: [],\n      family: [],\n      current_list: [],\n      comet_login: false,\n      refresh: false\n    };\n  }\n\n  checkUser() {\n    var email = cookie.get(\"email\"); //console.log(email)\n    //alert(email)\n\n    if (email === undefined) {\n      return React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      });\n    }\n\n    if (email === \"\") {\n      return React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      });\n    }\n  }\n\n  getDynamoUsers() {\n    var params = {\n      TableName: \"users\"\n    };\n    docClient.scan(params, function (err, data) {\n      if (err) {\n        console.error(\"Unable to scan the table. Error JSON:\", JSON.stringify(err, null, 2));\n      } else {\n        console.log(\"Scan succeeded to get all users\");\n        var user_list = JSON.parse(JSON.stringify(data.Items));\n        this.setState({\n          users: user_list\n        });\n      }\n    }.bind(this));\n  }\n\n  getUser() {\n    var params = {\n      TableName: \"users\",\n      Key: {\n        \"email\": cookie.get(\"email\")\n      }\n    };\n    docClient.get(params, function (err, data) {\n      if (err) {\n        cookie.remove(\"email\");\n        cookie.remove(\"username\"); // console.log(\"users::fetchOneByKey::error - \" + JSON.stringify(err, null, 2));\n      } else {\n        //console.log(\"users::fetchOneByKey::success - \" + JSON.stringify(data, null, 2));\n        var u = {};\n\n        try {\n          console.log(\"get user is successful\");\n          u = JSON.parse(JSON.stringify(data.Item));\n          chat.Login(u.comet_uid);\n          this.setState({\n            user: u,\n            comet_login: true\n          });\n          this.getFamily();\n        } catch (e) {\n          return;\n        }\n      }\n    }.bind(this));\n  }\n\n  getFamily() {\n    var params = {\n      TableName: \"family\",\n      Key: {\n        \"family_key\": this.state.user.key\n      }\n    };\n    docClient.get(params, function (err, data) {\n      if (err) {// console.log(\"users::fetchOneByKey::error - \" + JSON.stringify(err, null, 2));\n      } else {\n        //console.log(\"users::fetchOneByKey::success - \" + JSON.stringify(data, null, 2));\n        var u = JSON.parse(JSON.stringify(data.Item));\n        this.setState({\n          family: u\n        });\n        this.getDynamoUsers();\n      }\n    }.bind(this));\n  }\n\n  switchContent(page) {\n    var classname = \".Function .\" + page.charAt(0).toUpperCase() + page.slice(1) + \"Li\"; //console.log(classname)\n\n    this.handleHighLight(classname);\n    this.setState({\n      refresh: true\n    });\n    this.content = page; //console.log(this.content);\n    //console.log(\"Switch Page\")\n  }\n\n  logout() {\n    var cookie = require(\"js-cookie\");\n\n    cookie.remove(\"email\");\n    cookie.remove(\"username\");\n    window.location.replace(\"/\");\n    return;\n  }\n\n  InitialSetup() {\n    this.getUser();\n  }\n\n  displayAvatar() {\n    var img = require('./imgs/ava.jpg');\n\n    if (this.state.user.avatar === undefined) {\n      return img;\n    }\n\n    if (this.state.user.avatar !== \"\") {\n      return this.state.user.avatar;\n    }\n\n    return img;\n  }\n\n  dispplayImage() {\n    if (this.state.user !== null) {\n      return React.createElement(\"img\", {\n        className: \"Avatar border rounded-circle\",\n        src: this.displayAvatar(),\n        alt: \"\",\n        width: \"150px\",\n        height: \"150px\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      });\n    }\n  }\n\n  displayContent() {\n    if (this.content === \"calendar\") {\n      return React.createElement(Calendar, {\n        user: this.state.user,\n        family: this.state.family,\n        users: this.state.users,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      });\n    }\n\n    if (this.content === \"post\") {\n      return React.createElement(Post, {\n        user: this.state.user,\n        family: this.state.family,\n        users: this.state.users,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      });\n    }\n\n    if (this.content === \"todolist\") {\n      return React.createElement(Todolist, {\n        user: this.state.user,\n        family: this.state.family,\n        users: this.state.users,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      });\n    }\n\n    if (this.content === \"profile\") {\n      return React.createElement(Profile, {\n        user: this.state.user,\n        getUser: this.getUser.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      });\n    }\n\n    if (this.content === \"chat\") {\n      return React.createElement(Groupchat, {\n        user: this.state.user,\n        isAuthenticated: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      });\n    }\n\n    return null;\n  }\n\n  updateCalendar() {\n    data();\n    var list = [];\n    event_list.forEach(event => {\n      if (event.family_key === this.state.user.key) {\n        list.push(event);\n      }\n    });\n    this.setState({\n      current_list: list\n    }); // this.setState({event_list:list})\n    //console.log(event_list)\n    //console.log(this.state.event_list)\n\n    $(\"#minicalendar\").html(\"\");\n    var calendarEl = document.getElementById('minicalendar');\n    var calendar = new cld(calendarEl, {\n      defaultView: \"dayGridMonth\",\n      events: list,\n      plugins: [dayGridPlugin, interactionPlugin],\n      eventPositioned: this.handleEventPositioned\n    });\n    calendar.render(); //console.log(\"Done\")\n  }\n\n  updateCalendarMul() {\n    this.updateCalendar();\n    setTimeout(function () {\n      this.updateCalendar();\n    }.bind(this), 500);\n    setTimeout(function () {\n      this.updateCalendar();\n    }.bind(this), 1000);\n    setTimeout(function () {\n      this.updateCalendar();\n    }.bind(this), 1500);\n  }\n\n  checkDifferent() {\n    data();\n    var list = [];\n    event_list.forEach(event => {\n      if (event.family_key === this.state.user.key) {\n        list.push(event);\n      }\n    });\n\n    if (this.current_list !== list) {\n      this.updateCalendar();\n    }\n  }\n\n  handleEventPositioned(arg) {\n    arg.el.setAttribute(\"data-tip\", arg.event.start.getHours() + \":\" + (\"0\" + arg.event.start.getMinutes()).slice(-2) + \"-\" + arg.event.end.getHours() + \":\" + (\"0\" + arg.event.end.getMinutes()).slice(-2) + \": \" + arg.event.title);\n    ReactTooltip.rebuild();\n  }\n\n  handleHighLight(className) {\n    $(\".Function li\").removeClass(\"bg-primary\");\n    $(\".Function li\").removeClass(\"text-white\");\n    $(className).addClass(\"bg-primary\");\n    $(className).addClass(\"text-white\");\n  }\n\n  componentDidMount() {\n    this.getUser(); //this.getDynamoUsers();\n    //this.getFamily()\n\n    $(\".Function .PostLi\").addClass(\"bg-primary\");\n    $(\".Function .PostLi\").addClass(\"text-white\");\n    this.updateCalendarMul(); // this.interval = setInterval(() => this.checkDifferent(), 2000);\n  }\n\n  componentWillUnmount() {// clearInterval(this.interval);\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, this.checkUser(), React.createElement(\"div\", {\n      className: \"User container-fluid p-0 m-0\",\n      style: {\n        height: '100vh'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row m-0 h-100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-2 bg-white border-right pt-4 border-none d-flex justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"Stick bg-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-center pl-3 pr-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }, this.dispplayImage()), React.createElement(\"p\", {\n      className: \"Username text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, this.state.user.username), React.createElement(\"p\", {\n      className: \"text-center lead\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-outline-primary\",\n      onClick: this.logout.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }, \"Logout\")), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }), React.createElement(\"ul\", {\n      className: \"Function list-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"ProfileLi list-group-item\",\n      key: \"profile\",\n      onClick: this.switchContent.bind(this, \"profile\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: require(\"./imgs/profile.png\"),\n      alt: \"\",\n      width: \"25px\",\n      height: \"25px\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }), \" Profile\"), React.createElement(\"li\", {\n      className: \"PostLi list-group-item\",\n      key: \"post\",\n      onClick: this.switchContent.bind(this, \"post\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: require(\"./imgs/post.png\"),\n      alt: \"\",\n      width: \"25px\",\n      height: \"25px\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }), \" Post\"), React.createElement(\"li\", {\n      className: \"CalendarLi list-group-item\",\n      key: \"calendar\",\n      onClick: this.switchContent.bind(this, \"calendar\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: require(\"./imgs/event.png\"),\n      alt: \"\",\n      width: \"25px\",\n      height: \"25px\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    }), \" Calendar\"), React.createElement(\"li\", {\n      className: \"TodolistLi list-group-item\",\n      key: \"todolist\",\n      onClick: this.switchContent.bind(this, \"todolist\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: require(\"./imgs/todolist.png\"),\n      alt: \"\",\n      width: \"25px\",\n      height: \"25px\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }), \" To do list\")))), React.createElement(\"div\", {\n      className: \"col-7\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291\n      },\n      __self: this\n    }, this.displayContent()), React.createElement(\"div\", {\n      className: \"col-3 ml-auto p-0 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"StickRight\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"ml-0 mt-4 mr-4 mb-2 p-4 bg-white border rounded\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"MiniCalendar\",\n      id: \"minicalendar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297\n      },\n      __self: this\n    }), React.createElement(ReactTooltip, {\n      effect: \"solid\",\n      type: \"info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"ChatBox ml-0 mt-0 mr-4 mb-4 p-4 bg-white rounded border\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    }, React.createElement(Groupchat, {\n      className: \"Chat\",\n      users: this.state.users,\n      user: this.state.user,\n      getUsers: this.getDynamoUsers.bind(this),\n      isAuthenticated: this.state.comet_login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302\n      },\n      __self: this\n    })))))));\n  }\n\n}","map":{"version":3,"sources":["/Users/dungle/Desktop/fammi/src/components/User.jsx"],"names":["React","Component","$","Calendar","cld","dayGridPlugin","interactionPlugin","ReactTooltip","data","event_list","Post","Profile","docClient","Groupchat","chat","Redirect","Todolist","cookie","require","User","constructor","props","content","state","users","user","family","current_list","comet_login","refresh","checkUser","email","get","undefined","getDynamoUsers","params","TableName","scan","err","console","error","JSON","stringify","log","user_list","parse","Items","setState","bind","getUser","Key","remove","u","Item","Login","comet_uid","getFamily","e","key","switchContent","page","classname","charAt","toUpperCase","slice","handleHighLight","logout","window","location","replace","InitialSetup","displayAvatar","img","avatar","dispplayImage","displayContent","updateCalendar","list","forEach","event","family_key","push","html","calendarEl","document","getElementById","calendar","defaultView","events","plugins","eventPositioned","handleEventPositioned","render","updateCalendarMul","setTimeout","checkDifferent","arg","el","setAttribute","start","getHours","getMinutes","end","title","rebuild","className","removeClass","addClass","componentDidMount","componentWillUnmount","height","username"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport $ from 'jquery';\nimport { Calendar as cld } from '@fullcalendar/core';\nimport dayGridPlugin from '@fullcalendar/daygrid'\nimport interactionPlugin from \"@fullcalendar/interaction\";\nimport ReactTooltip from 'react-tooltip'\nimport { data, event_list } from \"./Data/event\";\nimport Post from \"./Post\";\nimport Calendar from \"./Calendar\";\nimport Profile from \"./Profile\";\nimport { docClient } from './Data/user';\nimport Groupchat from './GroupMsg';\nimport chat from \"./Messenger\";\nimport { Redirect } from \"react-router-dom\";\nimport Todolist from './Todolist';\n\nvar cookie = require(\"js-cookie\");\n\n\n\nexport default class User extends Component {\n    content = \"post\";\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            users: [],\n            user: [],\n            family: [],\n            current_list: [],\n            comet_login: false,\n            refresh: false,\n        }\n    }\n\n    checkUser() {\n        var email = cookie.get(\"email\");\n        //console.log(email)\n        //alert(email)\n        if (email === undefined) {\n            return <Redirect to=\"/\" />\n        }\n        if (email === \"\") {\n            return <Redirect to=\"/\" />\n        }\n\n    }\n    getDynamoUsers() {\n        var params = {\n            TableName: \"users\"\n        };\n\n        docClient.scan(params, function (err, data) {\n            if (err) {\n                console.error(\"Unable to scan the table. Error JSON:\", JSON.stringify(err, null, 2));\n            } else {\n                console.log(\"Scan succeeded to get all users\");\n                var user_list = JSON.parse(JSON.stringify(data.Items))\n                this.setState({ users: user_list });\n\n            }\n        }.bind(this));\n    }\n    getUser() {\n        var params = {\n            TableName: \"users\",\n            Key: {\n                \"email\": cookie.get(\"email\")\n            }\n        };\n        docClient.get(params, function (err, data) {\n            if (err) {\n                cookie.remove(\"email\")\n                cookie.remove(\"username\")\n                // console.log(\"users::fetchOneByKey::error - \" + JSON.stringify(err, null, 2));\n            }\n            else {\n                //console.log(\"users::fetchOneByKey::success - \" + JSON.stringify(data, null, 2));\n                var u = {}\n                try {\n                    console.log(\"get user is successful\")\n                    u = JSON.parse(JSON.stringify(data.Item))\n                    chat.Login(u.comet_uid)\n                    this.setState({ user: u, comet_login: true })\n                    this.getFamily();\n                }\n                catch (e) {\n                    return\n                }\n\n\n            }\n\n        }.bind(this))\n    }\n\n    getFamily() {\n        var params = {\n            TableName: \"family\",\n            Key: {\n                \"family_key\": this.state.user.key\n            }\n        };\n        docClient.get(params, function (err, data) {\n            if (err) {\n                // console.log(\"users::fetchOneByKey::error - \" + JSON.stringify(err, null, 2));\n            }\n            else {\n                //console.log(\"users::fetchOneByKey::success - \" + JSON.stringify(data, null, 2));\n                var u = JSON.parse(JSON.stringify(data.Item))\n                this.setState({ family: u })\n                this.getDynamoUsers();\n\n            }\n\n        }.bind(this))\n\n    }\n    switchContent(page) {\n        var classname = \".Function .\" + page.charAt(0).toUpperCase() + page.slice(1) + \"Li\"\n        //console.log(classname)\n        this.handleHighLight(classname)\n        this.setState({ refresh: true })\n        this.content = page;\n        //console.log(this.content);\n        //console.log(\"Switch Page\")\n    }\n    logout() {\n        var cookie = require(\"js-cookie\");\n        cookie.remove(\"email\")\n        cookie.remove(\"username\")\n        window.location.replace(\"/\")\n        return\n    }\n    InitialSetup() {\n        this.getUser();\n    }\n    displayAvatar() {\n        var img = require('./imgs/ava.jpg')\n        if (this.state.user.avatar === undefined) {\n            return img\n        }\n        if (this.state.user.avatar !== \"\") {\n            return this.state.user.avatar;\n        }\n\n        return img\n\n    }\n    dispplayImage() {\n        if (this.state.user !== null) {\n            return (<img className=\"Avatar border rounded-circle\" src={this.displayAvatar()} alt=\"\" width=\"150px\" height=\"150px\" />)\n        }\n    }\n    displayContent() {\n\n\n        if (this.content === \"calendar\") {\n            return <Calendar user={this.state.user} family={this.state.family} users={this.state.users} />\n        }\n        if (this.content === \"post\") {\n            return <Post user={this.state.user} family={this.state.family} users={this.state.users} />\n        }\n        if (this.content === \"todolist\") {\n            return <Todolist user={this.state.user} family={this.state.family} users={this.state.users} />\n        }\n        if (this.content === \"profile\") {\n            return <Profile user={this.state.user} getUser={this.getUser.bind(this)} />\n        }\n        if (this.content === \"chat\") {\n            return <Groupchat user={this.state.user} isAuthenticated={true} />\n        }\n        return null\n    }\n\n    updateCalendar() {\n        data()\n        var list = []\n        event_list.forEach(event => {\n            if (event.family_key === this.state.user.key) {\n                list.push(event)\n            }\n        })\n        this.setState({ current_list: list })\n        // this.setState({event_list:list})\n        //console.log(event_list)\n        //console.log(this.state.event_list)\n        $(\"#minicalendar\").html(\"\")\n        var calendarEl = document.getElementById('minicalendar');\n        var calendar = new cld(calendarEl, {\n            defaultView: \"dayGridMonth\",\n            events: list,\n            plugins: [dayGridPlugin, interactionPlugin],\n            eventPositioned: this.handleEventPositioned,\n        });\n        calendar.render();\n        //console.log(\"Done\")\n    }\n    updateCalendarMul() {\n        this.updateCalendar()\n        setTimeout(\n            function () {\n                this.updateCalendar()\n            }\n                .bind(this),\n            500\n        );\n        setTimeout(\n            function () {\n                this.updateCalendar()\n            }\n                .bind(this),\n            1000\n        );\n        setTimeout(\n            function () {\n                this.updateCalendar()\n            }\n                .bind(this),\n            1500\n        );\n    }\n    checkDifferent() {\n        data()\n        var list = []\n        event_list.forEach(event => {\n            if (event.family_key === this.state.user.key) {\n                list.push(event)\n            }\n        })\n        if (this.current_list !== list) {\n            this.updateCalendar()\n        }\n    }\n    handleEventPositioned(arg) {\n        arg.el.setAttribute(\"data-tip\", arg.event.start.getHours() + \":\" + (\"0\" + arg.event.start.getMinutes()).slice(-2) + \"-\" + arg.event.end.getHours() + \":\" + (\"0\" + arg.event.end.getMinutes()).slice(-2) + \": \" + arg.event.title);\n        ReactTooltip.rebuild();\n    }\n    handleHighLight(className) {\n        $(\".Function li\").removeClass(\"bg-primary\")\n        $(\".Function li\").removeClass(\"text-white\")\n        $(className).addClass(\"bg-primary\")\n        $(className).addClass(\"text-white\")\n    }\n    componentDidMount() {\n        this.getUser()\n        //this.getDynamoUsers();\n        //this.getFamily()\n        $(\".Function .PostLi\").addClass(\"bg-primary\")\n        $(\".Function .PostLi\").addClass(\"text-white\")\n        this.updateCalendarMul()\n        // this.interval = setInterval(() => this.checkDifferent(), 2000);\n\n    }\n    componentWillUnmount() {\n        // clearInterval(this.interval);\n    }\n\n    render() {\n        return (\n            <>\n                {this.checkUser()}\n                <div className=\"User container-fluid p-0 m-0\" style={{ height: '100vh' }}>\n                    <div className=\"row m-0 h-100\">\n                        <div className=\"col-2 bg-white border-right pt-4 border-none d-flex justify-content-center\">\n                            <div className=\"Stick bg-white\">\n                                <p className=\"text-center pl-3 pr-3\">{this.dispplayImage()}</p>\n                                <p className=\"Username text-center\">{this.state.user.username}</p>\n                                <p className=\"text-center lead\"><button type=\"button\" className=\"btn btn-outline-primary\" onClick={this.logout.bind(this)}>Logout</button></p>\n                                <hr />\n                                <ul className=\"Function list-group\">\n                                    <li className=\"ProfileLi list-group-item\" key=\"profile\" onClick={this.switchContent.bind(this, \"profile\")}>\n                                        <img src={require(\"./imgs/profile.png\")} alt=\"\" width=\"25px\" height=\"25px\" /> Profile\n                                </li>\n                                    <li className=\"PostLi list-group-item\" key=\"post\" onClick={this.switchContent.bind(this, \"post\")}>\n                                        <img src={require(\"./imgs/post.png\")} alt=\"\" width=\"25px\" height=\"25px\" /> Post\n                                </li>\n                                    <li className=\"CalendarLi list-group-item\" key=\"calendar\" onClick={this.switchContent.bind(this, \"calendar\")}>\n                                        <img src={require(\"./imgs/event.png\")} alt=\"\" width=\"25px\" height=\"25px\" /> Calendar\n                                </li>\n                                    <li className=\"TodolistLi list-group-item\" key=\"todolist\" onClick={this.switchContent.bind(this, \"todolist\")}>\n                                        <img src={require(\"./imgs/todolist.png\")} alt=\"\" width=\"25px\" height=\"25px\" /> To do list\n                                </li>\n                                    {/* <li className=\"ChatLi list-group-item\" key=\"chat\" onClick={this.switchContent.bind(this, \"chat\")}>\n                                        Chat\n                                </li> */}\n\n                                </ul>\n                            </div>\n                        </div>\n                        <div className=\"col-7\">\n                            {this.displayContent()}\n                        </div>\n                        <div className=\"col-3 ml-auto p-0 \">\n                            <div className=\"StickRight\">\n                                <div className=\"ml-0 mt-4 mr-4 mb-2 p-4 bg-white border rounded\">\n                                    <div className=\"MiniCalendar\" id=\"minicalendar\"></div>\n                                    <ReactTooltip effect=\"solid\" type=\"info\" />\n                                </div>\n                                <div className=\"ChatBox ml-0 mt-0 mr-4 mb-4 p-4 bg-white rounded border\">\n                                    {/* Chat here */}\n                                    <Groupchat className=\"Chat\"\n                                        users={this.state.users}\n                                        user={this.state.user}\n                                        getUsers={this.getDynamoUsers.bind(this)}\n                                        isAuthenticated={this.state.comet_login} />\n                                </div>\n                            </div>\n                        </div>\n                        {/* Switch ngay chỗ này */}\n                        {/* <Post></Post> */}\n                        {/* <Todolist></Todolist> */}\n                    </div>\n                </div>\n            </>\n\n\n\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}